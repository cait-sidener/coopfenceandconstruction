!function(){"use strict";var o="https://grsm.io",r="https://partnerlinks.io";function n(o){return"string"!=typeof o?"":decodeURIComponent(atob(o).split("").map((function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)})).join(""))}var e,t=(function(o,r){var n;n=function(){function o(){for(var o=0,r={};o<arguments.length;o++){var n=arguments[o];for(var e in n)r[e]=n[e]}return r}function r(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(e){function t(){}function u(r,n,u){if("undefined"!=typeof document){"number"==typeof(u=o({path:"/"},t.defaults,u)).expires&&(u.expires=new Date(1*new Date+864e5*u.expires)),u.expires=u.expires?u.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(o){}n=e.write?e.write(n,r):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var s in u)u[s]&&(i+="; "+s,!0!==u[s]&&(i+="="+u[s].split(";")[0]));return document.cookie=r+"="+n+i}}function a(o,n){if("undefined"!=typeof document){for(var t={},u=document.cookie?document.cookie.split("; "):[],a=0;a<u.length;a++){var i=u[a].split("="),s=i.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=r(i[0]);if(s=(e.read||e)(s,c)||r(s),n)try{s=JSON.parse(s)}catch(o){}if(t[c]=s,o===c)break}catch(o){}}return o?t[o]:t}}return t.set=u,t.get=function(o){return a(o,!1)},t.getJSON=function(o){return a(o,!0)},t.remove=function(r,n){u(r,"",o(n,{expires:-1}))},t.defaults={},t.withConverter=n,t}((function(){}))},o.exports=n()}(e={exports:{}},e.exports),e.exports);function u(o){if(null==o)return null;const r=t.get(o);return null==r?null:r}function a(o,r,n,e,t,u){t=t||"/",u=u||"Lax";const a=n?`Domain=${n};`:"";document.cookie=`${o}=${r}; ${a} Expires=${e}; Path=${t}; SameSite=${u}`}function i(o,r,n){var e=new Date(Date.now()+7776e6).toUTCString();a(o,r,n,e),u(o)!==r&&a(o,r,location.host,e)}const s="gspk",c="gsxid",m=c,g="growSumoPartnerKey",_="trackingV1",d="ps_mode",p="ps_xid",w=p,l="ps_partner_key",f=l,k="trackingV2";var v={_b64d:n,_gc:u,_sc:i,domain_v1:o,domain_v2:r,source:null,fallback_domain:null,cookie_domain:location.host,initialized:!1,data:{amount:0,currency:"USD",email:"",name:"",public_key:"",host_domain:""},_rd:function(){growsumo.data.amount=0,growsumo.data.email="",growsumo.data.name="",growsumo.data.currency="USD"},_initialize:function(o){growsumo.cookie_domain=growsumo.cookie_domain.split(":")[0];var r=growsumo.cookie_domain.split(".");r.length>2&&(growsumo.cookie_domain="."+r.slice(1).join(".")),growsumo.data.host_domain=location.host,growsumo.source=growsumo._detect_source(),growsumo.fallback_domain=growsumo._get_fallback_domain(),growsumo.data.public_key=o,growsumo._gpk(),growsumo._gxid(),growsumo.initialized=!0},_detect_source:function(){if(growsumo._gpbn(l)||growsumo._gpbn(p))return k;if(growsumo._gpbn(s)||growsumo._gpbn(c))return _;var o=[u(f),u(w)],r=[u(g),u(m)].some(o=>!!o),n=o.some(o=>!!o);if(r&&n){var e=u(d);if(e===_)return _;if(e===k)return k}return r?_:n?k:null},_get_tracking_domain:function(){return growsumo.source===k?growsumo.domain_v2:growsumo.domain_v1},_set_source_for_endpoint:function(o){o==growsumo.domain_v1?growsumo.source=_:o==growsumo.domain_v2&&(growsumo.source=k)},_gpk:function(){var o=growsumo._gpbn(s),r=growsumo._gpbn(l);if(r&&(o=r),o){o=n(o);var e=r?k:_;growsumo._spk(o,e)}else growsumo._get_pk_primary_cookie_mirror()},_get_fallback_domain:function(){return growsumo.source==k?growsumo.domain_v1:growsumo.domain_v2},_get_pk_primary_cookie_mirror:function(){var o=growsumo._get_tracking_domain(),r=growsumo._ccr("GET",o+"/pr/gpk/"+growsumo.data.public_key);r.onreadystatechange=function(){4==r.readyState&&(200==r.status&&(growsumo._spk(r.responseText,growsumo.source||_),null==growsumo.source&&r.responseText.length>0&&growsumo._set_source_for_endpoint(o)),null==growsumo.source&&growsumo._get_pk_fallback_cookie_mirror())},r.send(null)},_get_pk_fallback_cookie_mirror:function(){var o=growsumo._ccr("GET",growsumo.fallback_domain+"/pr/gpk/"+growsumo.data.public_key);o.onreadystatechange=function(){4==o.readyState&&200==o.status&&o.responseText.length>0&&(growsumo._spk(o.responseText,growsumo.source||k),growsumo._set_source_for_endpoint(otherEndpoint))},o.send(null)},_spk:function(o,r){var n=g;growsumo.source===k&&(n=f);var e=u(n);o?(growsumo.data.partner_key=o,r&&i(d,r,growsumo.cookie_domain),i(n,o,growsumo.cookie_domain)):e&&(growsumo.data.partner_key=e,i(n,e,growsumo.cookie_domain))},_gxid:function(){var o=growsumo._gpbn(c),r=growsumo._gpbn(p);r&&(o=r,growsumo.source=k),o?growsumo._sxid(o):growsumo._sxid()},_sxid:function(o){var r=m;growsumo.source===k&&(r=w);let n=null!=o?o:u(r);null!=n&&(growsumo.data.xid=n,i(r,n,growsumo.cookie_domain))},_gpbn:function(o){o=o.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(location.search);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},_ccr:function(o,r,n){var e=new XMLHttpRequest;return e.withCredentials=!0,"withCredentials"in e?e.open(o,r,!0):"undefined"!=typeof XDomainRequest?(e=new XDomainRequest).open(o,r):e=null,e},_mr:function(o,r,n,e){var t=growsumo._get_tracking_domain()+r,u=growsumo._ccr(o,t);u?(u.onload=u.onerror=function(o){e&&"function"==typeof e&&e(o)},u.send(JSON.stringify(n))):console.error("CORS not supported")},setData:function(o,r,n,e){growsumo.data.amount=o,growsumo.data.currency=r,growsumo.data.email=n,growsumo.data.name=e},createSignup:function(o){growsumo._spk(),growsumo.data.name=String(growsumo.data.name),growsumo.data.email=String(growsumo.data.email),growsumo.data.currency=String(growsumo.data.currency),growsumo.data.amount=Number(growsumo.data.amount);var r=m,n="/pr/signup";growsumo.source==k&&(r=w,n="/signup");var e=u(r);e&&(growsumo.data.xid=String(e)),growsumo._mr("POST",n,growsumo.data,(function(r){growsumo._rd(),o&&"function"==typeof o&&o(r)}))}};window.growsumo=v}();
